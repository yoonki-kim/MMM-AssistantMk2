Module.register("MMM-AssistantMk2",{defaults:{debug:!0,startChime:"connection.mp3",useWelcomeMessage:"",lang:"en-US",coordinates:{latitude:51.503364,longitude:-.127625},standbyStatic:!1,record:{recorder:"arecord",device:null},play:{playProgram:"mpg321",playOption:[]},snowboy:{audioGain:2,Frontend:!0,Model:"jarvis",Sensitivity:null}},getStyles:function(){return["MMM-AssistantMk2.css"]},getScripts:function(){return["modules/MMM-AssistantMk2/components/AssistantHelper.js"]},start:function(){this.config=this.configAssignment({},this.defaults,this.config),this.sendSocketNotification("INIT",this.config);var t=new AssistantHelper(this.config);t.registerHelper("sendNotification",(t,s)=>{this.sendNotification(t,s)}),t.registerHelper("sendSocketNotification",(t,s)=>{this.sendSocketNotification(t,s)}),this.assistant=t},getDom:function(){return this.assistant.drawDom()},notificationReceived:function(t,s){switch(t){case"DOM_OBJECTS_CREATED":this.assistant.initializeAfterLoading(this.config)}},socketNotificationReceived:function(t,s){switch(t){case"INITIALIZED":this.sendSocketNotification("SNOWBOY_START"),this.config.useWelcomeMessage&&(this.assistant.activate(this.config.useWelcomeMessage),this.config.useWelcomeMessage="");break;case"MIC_ON":this.assistant.micStatus(!0);break;case"MIC_OFF":this.assistant.micStatus(!1);case"SPEAKER_ON":this.assistant.speakerStatus(!0);break;case"SPEAKER_OFF":this.assistant.speakerStatus(!1);break;case"TRANSCRIPTION":this.assistant.transcription(s);break;case"RESPONSE_END":this.sendNotification("ASSISTANT_RESPONSE_END");break;case"RESPONSING":this.assistant.changeStatus("RESPONSING");break;case"CONVERSATION_END":this.assistant.conversationEnd(s);break;case"CONVERSATION_ERROR":case"ASSISTANT_ERROR":this.assistant.onError(t);break;case"ASSISTANT_ACTIVATE":this.assistant.activate()}},configAssignment:function(t){for(var s,i,e=Array.prototype.slice.call(arguments,1);e.length;)for(i in s=e.shift())s.hasOwnProperty(i)&&("object"==typeof t[i]&&t[i]&&"[object Array]"!==Object.prototype.toString.call(t[i])&&"object"==typeof s[i]&&null!==s[i]?t[i]=this.configAssignment({},t[i],s[i]):t[i]=s[i]);return t}});
